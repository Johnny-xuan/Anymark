const g=Math.LN2/30,l=10,s={starred:25,hasNotes:10,hasUserTags:8,hasAiTags:3,inAiCategory:5},r=7,u=30;function h(t){const e=(Date.now()-t)/864e5;return Math.exp(-g*e)}function n(t,e=l){return e*h(t)}function T(t){let e=0;if(t.analytics.visitCount>0){const i=t.analytics.lastVisit||t.createTime;if(t.analytics.visitCount===1)e=n(i);else{const c=(t.createTime+i)/2;e=t.analytics.visitCount*n(c),e+=n(i)*.5}}return t.starred&&(e+=s.starred),t.userNotes&&t.userNotes.trim().length>0&&(e+=s.hasNotes),t.userTags&&t.userTags.length>0&&(e+=Math.min(t.userTags.length*s.hasUserTags,20)),t.aiTags&&t.aiTags.length>0&&(e+=Math.min(t.aiTags.length*s.hasAiTags,15)),t.aiCategory&&t.aiCategory.trim().length>0&&(e+=s.inAiCategory),(Date.now()-t.createTime)/(1e3*60*60*24)<r&&(e=Math.max(e,u)),Math.min(Math.max(Math.round(e),0),100)}function y(t){const e=t.analytics.lastVisit||t.createTime,a=(Date.now()-e)/(1e3*60*60*24);return a<7?"active":a<30?"cooling":a<90?"cold":"frozen"}export{T as c,y as g};
